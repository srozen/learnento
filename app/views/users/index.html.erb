<article ng-controller="UserSearchController">
  <h1 data-purpose="learners_index">Learners</h1>

  <header>
    <h1 class="h2">Search</h1>
  </header>

  <section class="search-form">
    <form>
      <div class="input-group input-group-lg">
        <label for="keywords" class="sr-only">Keywords</label>
        <input type="text" name="keywords" class="form-control input-lg" placeholder="Firstname or Lastname" ng-model="keywords" data-purpose="search-user-input">
      <span class="input-group-btn">
        <button class="btn btn-primary btn-lg" ng-click="search(keywords)" data-purpose="search-user-button">
          Find Learners
        </button>
      </span>
      </div>
    </form>
    <h1 ng-if="searchedFor">
      <span>You searched for : {{searchedFor}}</span>
    </h1>
  </section>

  <section>
    <header class="search-results">
      <h1 class="h3">Results</h1>
    </header>
    <%= render partial: 'pager', locals: {keywords: @keywords, page: @page} %>
    <div data-purpose="user-list">
      <ol class="list-group">
        <li class="list-group-item clearfix" ng-repeat="user in users" data-purpose="user">
          <h3 class="pull-right">
            <small class="text-uppercase">Joined</small>
            {{user.created_at}}
          </h3>
          <h2 class="h3"><a data-purpose="user-profile-button" href="/users/{{user.id}}">{{user.first_name}} {{user.last_name}}</a></h2>
          <h4>{{user.email}}</h4>
        </li>
      </ol>
    </div>
    <%= render partial: 'pager', locals: {keywords: @keywords, page: @page} %>
  </section>
</article>

